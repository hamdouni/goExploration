(function(){var e,n,t;alight.animate=e={},e.active=!0,e.namespace="al",e.perform=function(){var e;return e=function(e){return e?f$.isArray(e)?e:[e]:[]},function(n,r){var i,a,o;return a=alight.utilits.dataByElement(n,"animate"),a.prev&&a.prev.finish(),i=function(t){var r,i,a,o,c,s,u,f;if(t){for(s=e(t.add),i=0,o=s.length;o>i;i++)r=s[i],f$.addClass(n,r);for(u=e(t.remove),f=[],a=0,c=u.length;c>a;a++)r=u[a],f.push(f$.removeClass(n,r));return f}},a.prev=o={finish:function(){return a.prev=null,o.finish=null,i(r.finish),r.callback?r.callback():void 0}},i(r.start),alight.nextTick(function(){return t(n,function(){return o.finish?o.finish():void 0}),i(r.process)})}}(),e.show=function(n,t){return e.perform(n,{callback:t,start:{add:""+e.namespace+"-hide-remove",remove:"al-hide"},process:{add:""+e.namespace+"-hide-remove-active"},finish:{remove:[""+e.namespace+"-hide-remove",""+e.namespace+"-hide-remove-active"]}})},e.hide=function(n,t){return e.perform(n,{callback:t,start:{add:""+e.namespace+"-hide-add"},process:{add:""+e.namespace+"-hide-add-active"},finish:{add:"al-hide",remove:[""+e.namespace+"-hide-add",""+e.namespace+"-hide-add-active"]}})},e.enter=function(n,t){return e.perform(n,{callback:t,start:{add:""+e.namespace+"-enter"},process:{add:""+e.namespace+"-enter-active"},finish:{remove:[""+e.namespace+"-enter",""+e.namespace+"-enter-active"]}})},e.leave=function(n,t){return e.perform(n,{callback:t,start:{add:""+e.namespace+"-leave"},process:{add:""+e.namespace+"-leave-active"}})},e.$classExists=function(e){var n,t,r,i,a,o,c,s,u;for(s=document.styleSheets,i=0,o=s.length;o>i;i++)if(t=s[i],t.rules)for(u=t.rules,a=0,c=u.length;c>a;a++)if(n=u[a],r=" "+n.selectorText+",",r.indexOf(" "+e+",")>=0)return!0;return!1},t=function(){var e;return e=function(){var e,n,t,r;e=document.createElement("div"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(r=t[n],void 0!==e.style[n])return r;return null}(),function(n,t){var r,i,a;return r=window.getComputedStyle(n).transitionDuration,r=1e3*parseFloat(r)+100,i=function(){return clearTimeout(a),n.removeEventListener(e,i,!1),t(n)},n.addEventListener(e,i,!1),a=setTimeout(i,r)}}(),n=function(n,t){var r,i,a,o,c;if(r=n.takeAttr("class"))for(c=r.split(" "),a=0,o=c.length;o>a;a++)if(i=c[a],e.$classExists("."+i+"."+e.namespace+"-"+t))return!0;return!1},function(){var t;return t=alight.directives.al.show,alight.directives.al.show=function(r,i,a,o){var c;return c=t.apply(this,arguments),e.active&&n(o,"hide-remove")&&(c.showDom=function(){return e.show(r)},c.hideDom=function(){return e.hide(r)}),c}}(),function(){var t;return t=alight.directives.al.repeat.init,alight.directives.al.repeat.init=function(r,i,a,o){var c;return c=t.apply(this,arguments),e.active&&n(o,"enter")&&(c.rawUpdateDom=function(n,t){var r,i,a,o,c,s,u,f;for(a=function(n){return e.leave(n,function(){return f$.remove(n)})},o=0,s=n.length;s>o;o++)r=n[o],a(r);for(f=[],c=0,u=t.length;u>c;c++)i=t[c],f$.after(i.after,i.element),f.push(e.enter(i.element));return f}),c}}(),function(){var t;return t=alight.directives.al.include.init,alight.directives.al.include.init=function(r,i,a,o){var c;return c=t.apply(this,arguments),e.active&&n(o,"enter")&&(c.removeDom=function(n){return e.leave(n,function(){return f$.remove(n)})},c.insertDom=function(n,t){return f$.after(n,t),e.enter(t)}),c}}(),function(){var t;return t=alight.directives.al["if"].init,alight.directives.al["if"].init=function(r,i,a,o){var c;return c=t.apply(this,arguments),e.active&&n(o,"enter")&&(c.removeDom=function(n){return e.leave(n,function(){return f$.remove(n)})},c.insertDom=function(n,t){return f$.after(n,t),e.enter(t)}),c}}()}).call(this);